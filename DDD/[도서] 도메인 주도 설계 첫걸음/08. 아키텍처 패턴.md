# 08. 아키텍처 패턴 (WIP)
* 소프트웨어 시스템에는 비즈니스 로직이 아닌 다른 요소들도 많음
  * 비기능 요구사항 충족
  * 사용자와 상호작용하는 입출력
  * 저장소
     

* 관심사를 구현할 때 엄격하게 구성하지 않으면 변경이 어려워짐
* 코드베이스의 유지보수 비용을 증가시키는 문제들
  * 로직이 사용자 UI 또는 DB에 의존적임 
  * 비즈니스 로직이 변경될 때 코드베이스의 어떤 부분이 영향을 받는지 분명하지 않을 수 있음
  * 겉으로 보기엔 관련 없던 부분이 변경이 영향을 끼칠 수 있음

* 아키텍처 패턴을 적용하면?
  * 코드베이스 구성 원칙 제공
  * 명확한 경계 제시

     
## 계층형 아키텍처
가장 일반적인 아키텍처 계층 중 하나
   

* 프레젠테이션 계층
* 비즈니스 로직 계층
* 데이터 접근 계층
   

### 프레젠테이션 계층
사용자와 상호작용하는 계층 (퍼블릭 인터페이스)
* GUI
* CLI
* API
* 이벤트 구독/발행

### 비즈니스 로직 계층
해결할 비즈니스 문제를 다루는 계층
* 액티브 레코드 패턴
* 도메인 모델 패턴
* 엔티티
* 규칙
* 프로세스

### 데이터 접근 계층
데이터에 영속성을 부여할 수 있는 계층
* RDB 접근
* DocumentDB 접근
* 파일 저장소 접근 (S3, GCS)
* 메시지 버스

### 계층 간 커뮤니케이션
Top-down 방식   
`프레젠테이션 계층` -> `비즈니스 로직 계층` -> `데이터 접근 계층`

### 서비스 계층
3계층을 갖는 계층형 아키텍처에서 확장해 서비스 계층을 추가하는 경우가 많음   
* 프레젠테이션 계층과 비즈니스 로직 계층 사이의 중간 역할

### 계층형 아키텍처를 사용하는 경우
* 도메인 모델을 구현하는 데 계층형 아키텍처 패턴 적용은 어려움
  * 엔티티가 인프라스트럭처에 대해 몰라야 하며 의존성이 없어야 함

### 계층과 티어
* 계층(Layer)
  * 웹 애플리케이션 내부의 논리적 경계
* 티어(Tier)
  * 서버 컴퓨터에 실제로 배포되는 물리적 경계
  * 각 구성요소는 독립적으로 배포되고 관리됨
    * Web browser
    * Reverse proxy
    * App server
    * DB server
