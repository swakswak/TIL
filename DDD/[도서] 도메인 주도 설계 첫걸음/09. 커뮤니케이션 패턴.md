# 09. 커뮤니케이션 패턴 (WIP)
* 바운디드 컨텍스트 간 커뮤니케이션

* 내용을 다루기 앞서 [바운디드 컨텍스트 연동](./04.%20바운디드%20컨텍스트%20연동%20(구분과%20협력).md) 내용을 참고
## 모델 변환
* 서로 다른 바운디드 컨텍스트의 컨텍스트의 커뮤니케이션 
  * 사용자-제공자 패턴에서 사용자가 제공자의 바운디드 컨텍스트 모델을 따를 수 없는 상황이라면?
    * 필요에 따라 한쪽 또는 양쪽이 변환
  * Stateless translation
    * 수신(OHS) 또는 발신(ACL) 요청이 발행될 때 즉석에서 발생
  * Stateful translation
    * 상태 보존을 위해 데이터베이스 사용
  
### Stateless translation
* 프락시 패턴을 구현해 수신, 발신 요청을 삽입
* `요청` - (ModelA) -> `프락시` - (ModelB) -> `목표`
   

* 동기식
  ```
  바운디드   ----요청---->   프락시    --변환된요청-->    바운디드
  컨텍스트1  <--변환된응답--           <----응답----    컨텍스트2
  ```
  * API 게이트웨이에 변환 로직을 두는 경우도 있음

  * 오픈 호스트 서비스 패턴 (OHS)
    * 사용자에게 맞추는 패턴 
    * API 게이트웨이에서 바운디드 컨텍스트 API의 버저닝을 통해 사용자에게 맞춰줄 수 있음

  * 충돌 방지 계층 패턴 (ACL)
    * 제공자에게 맞추는 패턴
    * API 게이트웨이가 충돌 방지 계층이 됨
      * API 게이트웨이는 다른 사용자가 편리하게 사용할 수 있게 모델을 변환
      * 사용자는 API 게이트웨이를 통해 커뮤니케이션

