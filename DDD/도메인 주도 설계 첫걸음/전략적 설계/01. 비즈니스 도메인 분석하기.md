# 01. 비즈니스 도메인 분석하기

## 하위 도메인

### 핵심 하위 도메인

- 회사의 핵심 비즈니스를 담당
- 흥미로운 문제들인 편
- 기업이 경쟁자로부터 차별화하고 경쟁 우위를 얻는 활동
- 꼭 소프트웨어를 통한 비지니스를 뜻하는 것은 아님
- 복잡도는 높은 편
- 고객서비스 → 상담 사례 라우팅

### 일반 하위 도메인

- 이미 해결된 문제들
- 혁신이 필요하지 않음
- 기존의 솔루션을 사용하는 것이 더 비용 절감이 될 수 있음 (개발 리소스 감소)
- 중요하진 않지만 복잡하거나 복잡하지 않을 수 있음
    - 중요하지 않으므로 복잡한 경우 외부 서비스에 의존할 수 있음
        - 인증 로직, 사내 업무 지원 서비스 등..
- 고객서비스 → 헬프데스크 시스템,  전화상담 시스템

### 지원 하위 도메인

- 분명한 해결책이 있는 문제들
- 사내 구현이 필요한 활동
- 경쟁력에 도움이 되지는 않음
- 복잡하면서 중요하지 않거나, 복잡하지 않으면서 중요할 수 있음
    - 사내에서 개발하는 편
- 고객서비스 → 교대근무 관리 및 일정

![ddd1-subdomain](https://user-images.githubusercontent.com/65359423/190153999-ca2a8313-e79f-4f86-b36d-e59578c1af71.png)

## 하위 도메인은 어디까지 나눠야 할까?

### 응집된 유스케이스를 하위 도메인으로

- 응집된 유스케이스의 집합을 하위 도메인으로 정의하자
- 하위 도메인 경계의 기준이 될 수 있다

## ‘가상의 회사를 통해 하위 도메인 정의를 해보자’

## 티켓 판매 및 유통회사

- 사용자를 분석해 적절한 공연 등을 추천
- 사용자를 분석할 때 개인정보가 암호화 되어 사용자의 기록을 타인이 볼 수 없도록 해야 함
- 모바일 앱의 UX

- 설계 의사결정
    - 추천 엔진, 데이터 익명화, 모바일 앱은 가장 진보된 엔지니어링 도구와 기술을 사용해 사내에서 구현돼야 한다. 끊임없이 변경될 수 있다.
    - 데이터 암호화, 회계, 정산, 인증에는 상용 또는 오픈소스 솔루션 사용
    - 스트리밍 서비스, 소셜 네트워크 연동 등은 하청

### **핵심 하위 도메인**

- 추천 엔진
- 데이터 익명화
- 모바일 앱

### **일반 하위 도메인**

- 암호화
- 회계
- 정산
- 인증 및 권한 부여

### **지원 하위 도메인**

- 음악 스트리밍 서비스와 연동
- 소셜 네트워크 연동
- 참석 공연 모듈

## 대중교통 회사

- 택시 / 버스 매칭 서비스
- 모바일 앱을 통해 승차권 예매 가능
- 예정된 출발 시간에 가까운 버스의 경로를 추천 및 실시간 조정
- 라우팅 알고리즘
    - 교통 상황을 감지해 실시간으로 끊임없이 판단해야 함
- 때때로 할인 프로모션

- 설계 의사 결정
    - 라우팅 알고리즘, 데이터 분석, 차량 관리, 앱 UX는 가장 정교한 기술 도구와 패턴을 사용해서 사내에서 개발해야 한다.
    - 판촉 관리 모듈의 구현은 외부에 위탁할 수 있다.
    - 교통 상황 식별, 사용자 권한 관리, 재무 및 거래 기록 관리는 외부 서비스 제공 업체에 맡김

### 핵심 하위 도메인

- 라우팅
- 분석
- 모바일 앱 UX
- 차량 관리

### 일반 하위 도메인

- 교통 상황
- 회계
- 청구
- 권한 부여

### 지원 하위 도메인

- 프로모션 / 할인 관리 모듈